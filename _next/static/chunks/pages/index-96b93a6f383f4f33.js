(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5819)}])},5819:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var t=s(5893),i=s(7294),r=s(2235),l=s.n(r);function n(e){let{isOpen:a,onClose:s}=e,[r,n]=(0,i.useState)(null),[o,c]=(0,i.useState)(.5),[d,m]=(0,i.useState)(""),x=(0,i.useRef)(null),u=[{id:1,name:"Radio Stara Pazova",streamUrl:"http://95.140.123.22:8000/listen.pls",icon:"radio"},{id:2,name:"Radio S",streamUrl:"https://53be5ef2d13aa.streamlock.net/asmedia/radios/playlist.m3u8",icon:"broadcast-tower"},{id:3,name:"Radio Hit FM",streamUrl:"https://streaming.hitfm.rs/hit.mp3",icon:"music"},{id:4,name:"Radio AS FM",streamUrl:"https://mastermedia.shoutca.st/proxy/radioasfm?mp=/stream",icon:"signal"},{id:5,name:"Play Radio",streamUrl:"https://stream.playradio.rs:8443/play.mp3",icon:"play-circle"},{id:6,name:"TDI Radio",streamUrl:"https://streaming.tdiradio.com/tdiradio.mp3",icon:"broadcast-tower"}].filter(e=>e.name.toLowerCase().includes(d.toLowerCase())),f=e=>{x.current&&((null==r?void 0:r.id)===e.id?(x.current.pause(),n(null)):(x.current.src=e.streamUrl,x.current.play(),n(e)))};return a?(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:[(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 bg-[#2a2a2a] rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 flex justify-between items-center mb-6",children:[(0,t.jsxs)("h2",{className:"jsx-ae2f914079de14b0 text-xl font-semibold text-white",children:[(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 fas fa-radio text-[#00bfa5] mr-2"}),"Radio Stanice"]}),(0,t.jsx)("button",{onClick:s,className:"jsx-ae2f914079de14b0 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 fas fa-times"})})]}),(0,t.jsx)("div",{className:"jsx-ae2f914079de14b0 mb-6",children:(0,t.jsx)("input",{type:"text",placeholder:"Pretraži radio stanice...",value:d,onChange:e=>m(e.target.value),className:"jsx-ae2f914079de14b0 w-full bg-[#3a3a3a] text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#00bfa5]"})}),(0,t.jsx)("div",{className:"jsx-ae2f914079de14b0 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(e=>(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 bg-[#3a3a3a] rounded-lg p-4 flex flex-col items-center hover:bg-[#4a4a4a] transition-colors",children:[(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 w-16 h-16 bg-[#2a2a2a] rounded-full flex items-center justify-center mb-4 relative",children:[(null==r?void 0:r.id)===e.id&&(0,t.jsx)("div",{className:"jsx-ae2f914079de14b0 absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"jsx-ae2f914079de14b0 flex space-x-1",children:[1,2,3].map(e=>(0,t.jsx)("div",{style:{height:"60%",animationDelay:"".concat(.2*e,"s")},className:"jsx-ae2f914079de14b0 w-1 bg-[#00bfa5] animate-sound-wave"},e))})}),(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 "+"fas fa-".concat(e.icon," text-[#00bfa5] text-2xl ").concat((null==r?void 0:r.id)===e.id?"opacity-50":"")})]}),(0,t.jsx)("h3",{className:"jsx-ae2f914079de14b0 text-white font-medium text-center mb-4",children:e.name}),(0,t.jsx)("button",{onClick:()=>f(e),className:"jsx-ae2f914079de14b0 w-12 h-12 bg-[#00bfa5] rounded-full flex items-center justify-center hover:bg-[#00a693] transition-transform hover:scale-105",children:(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 "+"fas fa-".concat((null==r?void 0:r.id)===e.id?"pause":"play"," text-white")})})]},e.id))}),(0,t.jsxs)("div",{className:"jsx-ae2f914079de14b0 mt-6 flex items-center space-x-3",children:[(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 fas fa-volume-down text-gray-400"}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:o,onChange:e=>{let a=parseFloat(e.target.value);c(a),x.current&&(x.current.volume=a)},style:{background:"linear-gradient(to right, #00bfa5 0%, #00bfa5 ".concat(100*o,"%, #3a3a3a ").concat(100*o,"%, #3a3a3a 100%)")},className:"jsx-ae2f914079de14b0 w-full h-2 bg-[#3a3a3a] rounded-lg appearance-none cursor-pointer"}),(0,t.jsx)("i",{className:"jsx-ae2f914079de14b0 fas fa-volume-up text-gray-400"})]}),(0,t.jsx)("audio",{ref:x,preload:"none",onError:()=>n(null),className:"jsx-ae2f914079de14b0"})]}),(0,t.jsx)(l(),{id:"ae2f914079de14b0",children:'.animate-sound-wave.jsx-ae2f914079de14b0{-webkit-animation:sound-wave 1s ease-in-out infinite;-moz-animation:sound-wave 1s ease-in-out infinite;-o-animation:sound-wave 1s ease-in-out infinite;animation:sound-wave 1s ease-in-out infinite;-webkit-transform-origin:bottom;-moz-transform-origin:bottom;-ms-transform-origin:bottom;-o-transform-origin:bottom;transform-origin:bottom}@-webkit-keyframes sound-wave{0%,100%{-webkit-transform:scaley(.5);transform:scaley(.5)}50%{-webkit-transform:scaley(1);transform:scaley(1)}}@-moz-keyframes sound-wave{0%,100%{-moz-transform:scaley(.5);transform:scaley(.5)}50%{-moz-transform:scaley(1);transform:scaley(1)}}@-o-keyframes sound-wave{0%,100%{-o-transform:scaley(.5);transform:scaley(.5)}50%{-o-transform:scaley(1);transform:scaley(1)}}@keyframes sound-wave{0%,100%{-webkit-transform:scaley(.5);-moz-transform:scaley(.5);-o-transform:scaley(.5);transform:scaley(.5)}50%{-webkit-transform:scaley(1);-moz-transform:scaley(1);-o-transform:scaley(1);transform:scaley(1)}}input[type="range"].jsx-ae2f914079de14b0::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;width:16px;height:16px;background:#00bfa5;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer}input[type="range"].jsx-ae2f914079de14b0::-moz-range-thumb{width:16px;height:16px;background:#00bfa5;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;border:none}'})]}):null}var o=s(3454),c=function(){var e,a;let[s,r]=(0,i.useState)({id:"anonymous"}),[l,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)("cities"),[x,u]=(0,i.useState)(""),[f,h]=(0,i.useState)(""),[p,b]=(0,i.useState)(""),[j,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(null),[N,w]=(0,i.useState)(null),[S,k]=(0,i.useState)(null),[C,{loading:P}]=function(){let[e,a]=i.useState(!1);return[i.useCallback(async e=>{try{let t;if(a(!0),"reactNativeAsset"in e&&e.reactNativeAsset){if(e.reactNativeAsset.file){let a=new FormData;a.append("file",e.reactNativeAsset.file),t=await fetch("/_create/api/upload/",{method:"POST",body:a})}else{var s;let a=await fetch("/_create/api/upload/presign/",{method:"POST"}),{secureSignature:t,secureExpire:i}=await a.json(),r=await client.uploadFile(e.reactNativeAsset,{fileName:null!==(s=e.reactNativeAsset.name)&&void 0!==s?s:e.reactNativeAsset.uri.split("/").pop(),contentType:e.reactNativeAsset.mimeType,secureSignature:t,secureExpire:i});return{url:"".concat(o.env.EXPO_PUBLIC_BASE_CREATE_USER_CONTENT_URL,"/").concat(r.uuid,"/"),mimeType:r.mimeType||null}}}else if("file"in e&&e.file){let a=new FormData;a.append("file",e.file),t=await fetch("/_create/api/upload/",{method:"POST",body:a})}else t="url"in e?await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url})}):"base64"in e?await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64:e.base64})}):await fetch("/_create/api/upload/",{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:e.buffer});if(!t.ok){if(413===t.status)throw Error("Upload failed: File too large.");throw Error("Upload failed")}let i=await t.json();return{url:i.url,mimeType:i.mimeType||null}}catch(e){if(e instanceof Error)return{error:e.message};if("string"==typeof e)return{error:e};return{error:"Upload failed"}}finally{a(!1)}},[]),{loading:e}]}(),[O,_]=(0,i.useState)({}),[E,T]=(0,i.useState)({text:"",image:null}),[z,R]=(0,i.useState)(!1),[I,D]=(0,i.useState)([]),[L,U]=(0,i.useState)({}),[A,B]=(0,i.useState)({}),[F,J]=(0,i.useState)(!1),[M,K]=(0,i.useState)(0),[q,V]=(0,i.useState)(0),[X,G]=(0,i.useState)(!1),[Y,H]=(0,i.useState)(!1),[Z,Q]=(0,i.useState)(!1),[W,$]=(0,i.useState)([]),[ee,ea]=(0,i.useState)(""),[es,et]=(0,i.useState)(!1),[ei,er]=(0,i.useState)({}),[el,en]=(0,i.useState)(!1),[eo,ec]=(0,i.useState)({}),[ed,em]=(0,i.useState)(!1),[ex,eu]=(0,i.useState)(""),[ef,eh]=(0,i.useState)({}),[ep,eb]=(0,i.useState)({badges:{"Prvi Pregled":!1,"Redovan Korisnik":!1,Gurman:!1,Društvenjak:!1,Ekspert:!1,Foodie:!0},favoriteCategories:["Roštilj","Pica","Salate"],visitedRestaurants:["Caribic","Dukat","Kod Žike"]}),[ej,eg]=(0,i.useState)(null),[ev,ey]=(0,i.useState)(!1),[eN,ew]=(0,i.useState)(null),[eS,ek]=(0,i.useState)(()=>localStorage.getItem("lastSelectedCity")||""),[eC,eP]=(0,i.useState)({});(0,i.useEffect)(()=>{eS&&(u(eS),m("restaurants"),eE(eS))},[]),(0,i.useEffect)(()=>{let e=async()=>{try{et(!0);let e=await fetch("/api/db/user-reviews",{method:"POST",body:JSON.stringify({query:"SELECT * FROM `chat_messages` ORDER BY created_at DESC LIMIT 50"})}),a=await e.json();$(a.reverse())}catch(e){console.error("Error loading messages:",e)}finally{et(!1)}};Y&&e()},[Y]);let eO=async e=>{try{ey(!0),ew(null);let a=await fetch("/api/get-restaurant-menu",{method:"POST",body:JSON.stringify({restaurantId:e})});if(!a.ok)throw Error("Problem sa učitavanjem menija");let s=await a.json();eg(s)}catch(e){console.error("Greška pri učitavanju menija:",e),ew("Nije moguće učitati meni. Molimo pokušajte ponovo.")}finally{ey(!1)}},e_=async e=>{try{let a=await fetch("/api/check-restaurant-status",{method:"POST",body:JSON.stringify({restaurantId:e})});return(await a.json()).isOpen}catch(e){return console.error("Error checking restaurant status:",e),null}},eE=async e=>{try{em(!0),k(null);let a=await fetch("/api/restaurants/by-city",{method:"POST",body:JSON.stringify({city:e})});if(!a.ok)throw Error("Error loading restaurants: ".concat(a.status));let s=await a.json(),t={};await Promise.all(s.restaurants.map(async e=>{t[e.id]=await e_(e.id)})),eh(t),ec(a=>({...a,[e]:s.restaurants}))}catch(e){console.error("Error loading restaurants:",e),k("Nije moguće učitati restorane. Molimo pokušajte ponovo.")}finally{em(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#121212] text-white",role:"main",children:[Y?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#2a2a2a] rounded-lg max-w-md w-full max-h-[80vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,t.jsx)("i",{className:"fas fa-comments text-[#00bfa5] mr-2"}),"Chat"]}),(0,t.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)("i",{className:"fas fa-times"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[W.map((e,a)=>(0,t.jsx)("div",{className:"flex ".concat(e.user_id===s.id?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat(e.user_id===s.id?"bg-[#00bfa5] text-white":"bg-[#3a3a3a] text-gray-200"),children:[(0,t.jsx)("div",{className:"text-sm opacity-75 mb-1",children:e.user_id===s.id?"Vi":"Korisnik"}),(0,t.jsx)("p",{children:e.message}),(0,t.jsx)("div",{className:"text-xs opacity-50 text-right mt-1",children:new Date(e.created_at).toLocaleTimeString()})]})},a)),es&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00bfa5]"})})]}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!ee.trim())return;let a={message:ee,user_id:s.id,created_at:new Date().toISOString()};try{et(!0),await fetch("/api/db/user-reviews",{method:"POST",body:JSON.stringify({query:"INSERT INTO `chat_messages` (message, user_id, created_at) VALUES (?, ?, ?)",values:[a.message,a.user_id,a.created_at]})}),$(e=>[...e,a]),ea("");let e=await fetch("/api/db/user-reviews",{method:"POST",body:JSON.stringify({query:"SELECT * FROM `chat_messages` ORDER BY created_at DESC LIMIT 50"})}),s=await e.json();$(s.reverse())}catch(e){console.error("Error sending message:",e)}finally{et(!1)}},className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:ee,onChange:e=>ea(e.target.value),placeholder:"Napišite poruku...",className:"flex-1 bg-[#3a3a3a] rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00bfa5]"}),(0,t.jsx)("button",{type:"submit",disabled:es||!ee.trim(),className:"bg-[#00bfa5] text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#00a693] transition-colors",children:(0,t.jsx)("i",{className:"fas fa-paper-plane"})})]})})]})}):null,"cities"===d&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen pt-16",children:[(0,t.jsxs)("div",{className:"fixed top-0 right-0 p-4 flex gap-4 z-50",children:[(0,t.jsx)("button",{onClick:()=>Q(!0),className:"text-gray-400 hover:text-[#00bfa5] transition-colors","aria-label":"Otvori radio",children:(0,t.jsx)("i",{className:"fas fa-radio text-2xl"})}),(0,t.jsx)("button",{onClick:()=>{H(!0),m("chat")},className:"text-gray-400 hover:text-[#00bfa5] transition-colors",children:(0,t.jsx)("i",{className:"fas fa-comments text-2xl"})}),(0,t.jsx)("button",{onClick:()=>J(!0),className:"text-gray-400 hover:text-[#00bfa5] transition-colors",children:(0,t.jsx)("i",{className:"fas fa-heart text-2xl"})}),(0,t.jsx)("button",{onClick:()=>m("loyalty"),className:"text-gray-400 hover:text-[#00bfa5] transition-colors",children:(0,t.jsx)("i",{className:"fas fa-gift text-2xl"})}),(0,t.jsx)("button",{onClick:()=>m("profile"),className:"text-gray-400 hover:text-[#00bfa5] transition-colors",children:(0,t.jsx)("i",{className:"fas fa-user text-2xl"})})]}),(0,t.jsx)("h1",{className:"text-4xl md:text-6xl font-serif mb-8",children:"Šta Klopati"}),(0,t.jsx)("img",{src:"https://ucarecdn.com/84e97dda-5149-45c9-910a-8ee1fcb5bf35/-/format/auto/",alt:"Šta Klopati Logo",className:"w-[120px] h-[120px] rounded-full mb-12"}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 w-full max-w-xs",children:[(0,t.jsxs)("button",{onClick:()=>{u("Nova Pazova"),m("restaurants"),eE("Nova Pazova"),localStorage.setItem("lastSelectedCity","Nova Pazova"),ek("Nova Pazova")},className:"group relative bg-gradient-to-r from-[#00bfa5] to-[#00a693] py-4 px-8 rounded-lg text-xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl active:scale-95",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 rounded-lg transition-opacity"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,t.jsx)("span",{children:"Nova Pazova"})]})]}),(0,t.jsxs)("button",{onClick:()=>{u("Stara Pazova"),m("restaurants"),eE("Stara Pazova"),localStorage.setItem("lastSelectedCity","Stara Pazova"),ek("Stara Pazova")},className:"group relative bg-gradient-to-r from-[#00bfa5] to-[#00a693] py-4 px-8 rounded-lg text-xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl active:scale-95",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 rounded-lg transition-opacity"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,t.jsx)("span",{children:"Stara Pazova"})]})]}),(0,t.jsxs)("button",{onClick:()=>{u("Banovci"),m("restaurants"),eE("Banovci"),localStorage.setItem("lastSelectedCity","Banovci"),ek("Banovci")},className:"group relative bg-gradient-to-r from-[#00bfa5] to-[#00a693] py-4 px-8 rounded-lg text-xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl active:scale-95",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 rounded-lg transition-opacity"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,t.jsx)("span",{children:"Banovci"})]})]})]})]}),"restaurants"===d&&(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("button",{onClick:()=>{m("cities"),localStorage.removeItem("lastSelectedCity"),ek("")},className:"text-[#00bfa5] flex items-center",children:[(0,t.jsx)("i",{className:"fas fa-city mr-2"}),"Promeni grad"]}),(0,t.jsx)("h2",{className:"text-2xl",children:x})]}),ed?(0,t.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00bfa5]"})}):S?(0,t.jsxs)("div",{className:"text-red-500 p-4 text-center bg-[#2a2a2a] rounded-lg",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),(0,t.jsx)("p",{children:S}),(0,t.jsx)("button",{onClick:()=>eE(x),className:"mt-4 px-4 py-2 bg-[#00bfa5] rounded-lg text-white hover:bg-[#00a693]",children:"Pokušaj ponovo"})]}):(null===(e=eo[x])||void 0===e?void 0:e.length)>0?(0,t.jsx)("div",{className:"grid gap-4",children:eo[x].filter(e=>e.name.toLowerCase().includes(ex.toLowerCase())).map((e,a)=>(0,t.jsx)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg cursor-pointer hover:bg-[#3a3a3a] transition-all duration-200",onClick:()=>{h(e),m("menu"),eO(e.id)},children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl mb-2",children:e.name}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsx)("p",{className:"text-gray-400",children:e.hours}),(0,t.jsx)("p",{className:"text-gray-400",children:e.phone})]})]}),(0,t.jsx)("div",{className:"ml-4",children:null!==ef[e.id]&&(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(ef[e.id]?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:ef[e.id]?"Otvoreno":"Zatvoreno"})})]})},a))}):(0,t.jsxs)("div",{className:"text-center text-gray-400 p-8 bg-[#2a2a2a] rounded-lg",children:[(0,t.jsx)("i",{className:"fas fa-store-alt-slash text-4xl mb-4"}),(0,t.jsxs)("p",{children:["Trenutno nema dostupnih restorana u ",x]})]})]}),"menu"===d&&f&&(0,t.jsxs)("div",{className:"pb-20 relative min-h-screen",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-[#121212] z-10 p-4 border-b border-gray-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("button",{onClick:()=>m("restaurants"),className:"text-[#00bfa5] flex items-center",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-2"})," Nazad"]}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:f.name}),(0,t.jsx)("div",{className:"w-8"})]}),(0,t.jsx)("div",{className:"flex items-center text-sm text-gray-400",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"far fa-clock mr-2"}),(0,t.jsx)("span",{children:f.hours})]})})]}),ev?(0,t.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00bfa5]"})}):eN?(0,t.jsxs)("div",{className:"text-red-500 p-4 text-center bg-[#2a2a2a] rounded-lg m-4",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-circle text-2xl mb-2"}),(0,t.jsx)("p",{children:eN}),(0,t.jsx)("button",{onClick:()=>eO(f.id),className:"mt-4 px-4 py-2 bg-[#00bfa5] rounded-lg text-white hover:bg-[#00a693]",children:"Pokušaj ponovo"})]}):ej?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"sticky top-[72px] bg-[#121212] z-10 border-b border-gray-800",children:(0,t.jsx)("div",{className:"overflow-x-auto hide-scrollbar",children:(0,t.jsx)("div",{className:"flex p-2 space-x-2 min-w-max",children:Object.keys(ej.menu).map(e=>(0,t.jsxs)("button",{onClick:()=>b(e),className:"px-4 py-2 rounded-full whitespace-nowrap transition-all duration-200 ".concat(p===e?"bg-[#00bfa5] text-white":"bg-[#2a2a2a] text-gray-300 hover:bg-[#3a3a3a]"),children:["Roštilj"===e&&(0,t.jsx)("i",{className:"fas fa-fire mr-2"}),"Prilozi"===e&&(0,t.jsx)("i",{className:"fas fa-utensils mr-2"}),"Salate"===e&&(0,t.jsx)("i",{className:"fas fa-leaf mr-2"}),"Pića"===e&&(0,t.jsx)("i",{className:"fas fa-glass-martini mr-2"}),e]},e))})})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("div",{className:"grid gap-3",children:null===(a=ej.menu[p||Object.keys(ej.menu)[0]])||void 0===a?void 0:a.map((e,a)=>(0,t.jsx)("div",{className:"bg-[#2a2a2a] rounded-lg p-4 hover:bg-[#3a3a3a] transition-colors duration-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-lg font-medium mb-1",children:e.name}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description}),e.portion&&(0,t.jsxs)("p",{className:"text-sm text-gray-400 flex items-center",children:[(0,t.jsx)("i",{className:"fas fa-weight mr-2"}),e.portion]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end ml-4",children:[(0,t.jsxs)("span",{className:"text-[#00bfa5] font-semibold mb-2",children:[e.price," RSD"]}),(0,t.jsx)("button",{onClick:a=>{a.stopPropagation();let s="".concat(f.name,"-").concat(e.name);B(e=>({...e,[s]:!e[s]}))},className:"text-2xl transition-colors duration-200 hover:scale-110",children:(0,t.jsx)("i",{className:"fas fa-heart ".concat(A["".concat(f.name,"-").concat(e.name)]?"text-red-500":"text-gray-400")})})]})]})},a))})})]}):null]}),"loyalty"===d&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("button",{onClick:()=>m("cities"),className:"mb-4 text-[#00bfa5]",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-2"})," Nazad"]}),(0,t.jsx)("h2",{className:"text-2xl mb-4",children:"Loyalty program"}),(0,t.jsx)("p",{children:"Ovde možete pregledati nagrade i poene koje ste skupili."}),(0,t.jsx)("div",{className:"grid gap-4 mt-4",children:[{id:1,description:"10% popusta na sledeću porudžbinu",points:100},{id:2,description:"Besplatno piće uz obrok",points:150},{id:3,description:"Besplatna dostava",points:200},{id:4,description:"Besplatan obrok",points:500}].map(e=>(0,t.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-lg flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-gray-400",children:["Potrebno poena: ",e.points]})]}),(0,t.jsx)("button",{className:"bg-[#00bfa5] text-white px-4 py-2 rounded-lg hover:bg-[#00a693]",children:"Iskoristi"})]},e.id))})]}),"profile"===d&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("button",{onClick:()=>m("cities"),className:"mb-4 text-[#00bfa5]",children:[(0,t.jsx)("i",{className:"fas fa-arrow-left mr-2"})," Nazad"]}),(0,t.jsx)("h2",{className:"text-2xl mb-4",children:"Profil"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Vaše značke"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(ep.badges).map(e=>{let[a,s]=e;return(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-sm ".concat(s?"bg-[#00bfa5] text-white":"bg-[#2a2a2a] text-gray-400"),children:a},a)})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Omiljene kategorije"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ep.favoriteCategories.map(e=>(0,t.jsx)("div",{className:"px-3 py-1 rounded-full bg-[#2a2a2a] text-gray-400",children:e},e))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Posetili ste"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-gray-400",children:ep.visitedRestaurants.map(e=>(0,t.jsx)("li",{children:e},e))})]})]}),Z&&(0,t.jsx)(n,{isOpen:Z,onClose:()=>Q(!1)})]})}}},function(e){e.O(0,[774,235,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);